(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-973f3e30"],{9411:function(e,t,a){},caa3:function(e,t,a){"use strict";a("9411")},fed1:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myTable",staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{id:"clientes"}},[a("b-modal",{ref:"modal-pdf",attrs:{"no-close-on-backdrop":"",size:"xl",id:"modal-pdf","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[a("h5",{staticClass:"modal-title"},[e._v("Vista Previa")])]},proxy:!0}])},[a("reporte-listadopdf",{attrs:{PDFventa:e.ordenAPDF}})],1),a("div",[a("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{id:"btn_down_pdf",title:"Generar PDF",variant:"danger"},on:{click:function(t){return e.generarPDF()}}},[a("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),e._v(" Generar PDF ")]),a("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{id:"btn_down_pdf",title:"Generar Excel",variant:"success"},on:{click:function(t){return e.generarPDF()}}},[a("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),e._v(" Generar Excel ")])],1),a("script",{tag:"component",attrs:{src:"https://code.jquery.com/jquery-1.12.3.min.js",async:""}}),a("script",{tag:"component",attrs:{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js",async:""}}),a("script",{tag:"component",attrs:{src:"https://cdn.jsdelivr.net/npm/chart.js@2.9.4",async:""}}),a("div",{attrs:{id:"divpdf"}},[a("h3",[e._v("Fecha: "+e._s(e.fechaactual()))]),e._m(0),a("vue-headful",{attrs:{title:"Clientes por cada Reparto"}}),a("h1",[e._v("Clientes por cada Reparto")]),e._l(e.repartoslista,(function(t,r){return a("div",{key:r,staticStyle:{"max-width":"70%",display:"inline-block",margin:"2em"}},[a("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{id:"btn_down_pdf",title:"Generar PDF",variant:"danger"},on:{click:function(t){return e.generarPDF2(r)}}},[a("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),e._v(" Generar PDF ")]),a("div",{attrs:{id:"divreparto"+r}},[a("h2",[e._v("Reparto nro "+e._s(t.id_reparto))]),a("h2",[e._v("Listado de Clientes")]),a("b-table",{directives:[{name:"sortable",rawName:"v-sortable",value:e.sortableOptions,expression:"sortableOptions"}],ref:"tablaregistros",refInFor:!0,attrs:{fields:e.fields,striped:"",responsive:"",hover:"",items:t.tabla_clientes,"show-empty":"","per-page":e.perPage,"current-page":e.currentPage,"no-border-collapse":!1,id:"tablaregistros"+r},scopedSlots:e._u([{key:"empty",fn:function(){return[a("b",[e._v("No hay registros para mostrar")])]},proxy:!0}],null,!0)},[e._v(" e> ")])],1)],1)}))],2)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center"}},[a("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart",width:"500",height:"600"}})])}],s=a("1da1"),i=a("5530"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("4de4"),a("caad"),a("2532"),a("159b"),a("ac1f"),a("1276"),a("fb6a"),a("7db0"),a("6480")),c=a("bc3a"),l=a.n(c),d=(a("6ada"),a("8baf"),a("618c")),u=a("aa47"),p=a("d67e"),f=a.n(p),h=a("d549"),m=(a("f7e2"),a("c03a")),g=(a("e4a4"),new URL("http://45.162.168.170:8081"));g.pathname="clientes";var b=function(e,t,a){return u["a"].create(e,Object(i["a"])({},t))},v={name:"sortable",bind:function(e,t,a){var r=e.querySelector("table");r._sortable=b(r.querySelector("tbody"),t.value,a)}},w={directives:{sortable:v},components:{VueHtml2pdf:o["a"],ReporteListadopdf:d["a"]},data:function(){return{repartoslista:[],reparto:{},datarep:[],lista_id:[],datachart:{labels:[],datasets:[]},fields:[{key:"numero_cliente",label:"Nï¿½ Cliente",sortable:!0},{key:"nombre",label:"Nombre/s",sortable:!0},{key:"cuitocuil",label:"Cuit o Cuil",sortable:!0},{key:"saldopollo",label:"Saldo P",sortable:!0},{key:"saldocongelados",label:"Saldo C",sortable:!0}],totalRows:1,currentPage:1,perPage:10,buscar:"",sortableOptions:{chosenClass:"is-selected"},token:"",infoVisitar:{id:"modal_visitar",cliente:-1},ordenAPDF:{}}},computed:{rows:function(){return this.tabla_clientes.length},id:function(){return this.tabla_clientes.numero_orden},items:function(){var e=this;return tabla_ordenes.filter((function(t){return t.numero_orden.toLowerCase().includes(e.buscar.toLowerCase())}))}},methods:{testFetch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,console.log(r),r.results.length,n={label:"Clientes por Reparto",data:[],backgroundColor:["rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(0, 0, 0)","rgb(255, 165, 0)","rgb(137, 30, 53)"],hoverOffset:4},e.datarep.forEach((function(t){e.datachart.labels.push("reparto "+t.id_reparto);var a={id_reparto:-1,lista_id:[],tabla_clientes:[]};a.id_reparto=t.id_reparto,t.clientes_reparto.forEach((function(e){return a.lista_id.push(parseInt(e.split("/")[4]))})),console.log(a.lista_id);for(var s=0;s<r.results.length;s++)a.lista_id.includes(r.results[s].numero_cliente)&&a.tabla_clientes.push(r.results[s]);var i=a.lista_id.length;n.data.push(i),e.datachart.datasets.push(n),e.repartoslista.push(a),console.log("opcion completa"),console.log(a)})),console.log(e.repartoslista),e.setGraph(),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},setGraph:function(){var e=document.getElementById("chart"),t=(new h["a"](e,{type:"pie",data:this.datachart,options:{title:{text:"Cantidad de clientes por Reparto",display:!0}}}),document.getElementById("chart2"));new h["a"](t,{type:"pie",data:this.datachart,options:{title:{text:"Cantidad de clientes por Reparto",display:!0}}})},testFetch2:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"undefined"!==typeof e.$route.params.repa){t.next=8;break}return console.log("Reparto vacio"),a="http://45.162.168.170:8081",t.next=6,l.a.get(a+"/repartos/"+e.$route.query.id);case 6:r=t.sent,e.reparto=r.data;case 8:return t.next=10,fetch(g);case 10:return n=t.sent,t.next=13,n.json();case 13:s=t.sent,s.results.filter((function(t){return t.id_medico.split("/")[4]==e.profesional.id_medico})),e.tabla_ordenes=lista_ordenes,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))()},showModal:function(){this.$refs["my-modal"].show()},showModalinfo:function(e,t){this.infoVisitar.cliente=e,this.showModal()},hideModal:function(){this.$refs["my-modal"].hide()},visitarCliente:function(e){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},fechaactual:function(){var e=new Date;console.log(e.toLocaleDateString());var t=function(e){return("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear()};return console.log(t(e)),t(e)},buscarnow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s,i,o,c,l,d,u,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e.$refs.buscadorlista,r=a.value.toUpperCase(),n=document.getElementById("tablaregistros"),s=n.getElementsByTagName("tr"),o=1;o<s.length;o++)i=s[o].getElementsByTagName("td"),l=i[0].textContent||i[0].innerText,d=i[1].textContent||i[1].innerText,u=i[3].textContent||i[3].innerText,p=i[4].textContent||i[4].innerText,f=i[6].textContent||i[6].innerText,c=l+d+u+p+f,c.toUpperCase().indexOf(r)>-1?s[o].style.display="":s[o].style.display="none";case 5:case"end":return t.stop()}}),t)})))()},getRepartos:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new m["a"],a.apiUrl.pathname="repartos/",t.next=4,a.getData();case 4:e.datarep=t.sent;case 5:case"end":return t.stop()}}),t)})))()},getReparto:function(e){var t=this.datarep.find((function(t){return t.id_reparto==e}));return t},inicializar:function(){"reparto"==this.$session.get("tipocuenta")&&(console.log(this.$session.get("repartused")),this.reparto=this.$session.get("repartused"))},generarPDF:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.getElementById("divpdf"),f()().set({margin:1,filename:"documento.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"landscape"}}).from(t).save().catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))()},generarPDF2:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=document.getElementById("divreparto"+e),f()().set({margin:1,filename:"documento.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"landscape"}}).from(a).save().catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getRepartos(),this.inicializar(),this.testFetch()}},_=w,y=(a("caa3"),a("2877")),x=Object(y["a"])(_,r,n,!1,null,"51b6e1de",null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-973f3e30.cd5efde4.js.map