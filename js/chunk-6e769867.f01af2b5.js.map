{"version":3,"sources":["webpack:///./src/components/MainMobile.vue?3208","webpack:///src/components/MainMobile.vue","webpack:///./src/components/MainMobile.vue?2829","webpack:///./src/components/MainMobile.vue","webpack:///./src/components/MainMobile.vue?09b3"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","on","$event","preventDefault","logout","apply","arguments","staticClass","_v","_e","stopPropagation","handleSubmit","op_repartos","repartohabilitado","setReparto","model","value","pagina","callback","$$v","$set","expression","verventas2","verstock","verdevs","verventas","staticRenderFns","productosAPI","apiUrl","pathname","component"],"mappings":"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","file":"js/chunk-6e769867.f01af2b5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vue-headful',{attrs:{\"title\":\"Home - Aranda\"}}),_c('b-jumbotron',{attrs:{\"header\":\"Bienvenido al reparto\"}},[(_vm.logout)?_c('form',{staticStyle:{\"text-align\":\"center\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.logout.apply(null, arguments)}}},[_c('b-button',{staticClass:\"accesorapido\",staticStyle:{\"background-color\":\"red\",\"align-content\":\"center\"},attrs:{\"type\":\"submit\"}},[_vm._v(\"Logout\")])],1):_vm._e(),_c('b-form-group',{attrs:{\"label\":\"*Reparto\",\"label-for\":\"id_reparto\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('v-autocomplete',{attrs:{\"id\":\"id_reparto\",\"type\":\"text\",\"placeholder\":\"Ingrese un Reparto\",\"invalid-feedback\":\"Complete este campo\",\"required\":\"\",\"solo\":\"\",\"filled\":\"\",\"items\":_vm.op_repartos,\"disabled\":_vm.repartohabilitado},on:{\"change\":function($event){return _vm.setReparto()}},model:{value:(_vm.pagina.id_reparto),callback:function ($$v) {_vm.$set(_vm.pagina, \"id_reparto\", $$v)},expression:\"pagina.id_reparto\"}})],1),_c('div',{staticStyle:{\"text-align\":\"center\"},attrs:{\"id\":\"accesosrapidos\"}},[_c('b-button',{staticClass:\"accesorapido\",staticStyle:{\"background-color\":\"darkorange\"},on:{\"click\":function($event){return _vm.verventas2()}}},[_vm._v(\"Venta\")]),_c('b-button',{staticClass:\"accesorapido\",staticStyle:{\"background-color\":\"dodgerblue\"},on:{\"click\":function($event){return _vm.verstock()}}},[_vm._v(\"Stock\")]),_c('b-button',{staticClass:\"accesorapido\",staticStyle:{\"background-color\":\"deeppink\"},on:{\"click\":function($event){return _vm.verdevs()}}},[_vm._v(\"Devolucion\")]),_c('b-button',{staticClass:\"accesorapido\",staticStyle:{\"background-color\":\"dodgerblue\"},on:{\"click\":function($event){return _vm.verventas()}}},[_vm._v(\"Ver Ventas\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!--HEAD DE LA PAGINA -->\r\n        <vue-headful title=\"Home - Aranda\"></vue-headful>\r\n        <b-jumbotron header=\"Bienvenido al reparto\">\r\n            <form @submit.prevent=\"logout\" v-if=\"logout\" style=\"text-align:center;\">\r\n                <b-button class=\"accesorapido\" type=\"submit\" style=\"background-color:red;align-content:center;\">Logout</b-button>\r\n            </form>\r\n            <!--<form @submit.prevent=\"prueba\" style=\"text-align:center;\">\r\n            <b-button class=\"accesorapido\" type=\"submit\" style=\"background-color:red;align-content:center;\">probar</b-button>\r\n        </form>-->\r\n            <b-form-group label=\"*Reparto\"\r\n                          label-for=\"id_reparto\"\r\n                          @submit.stop.prevent=\"handleSubmit\">\r\n                <v-autocomplete id=\"id_reparto\"\r\n                                type=\"text\"\r\n                                @change=\"setReparto()\"\r\n                                v-model=\"pagina.id_reparto\"\r\n                                placeholder=\"Ingrese un Reparto\"\r\n                                invalid-feedback=\"Complete este campo\"\r\n                                required\r\n                                solo\r\n                                filled\r\n                                :items=\"op_repartos\"\r\n                                :disabled=\"repartohabilitado\">\r\n                </v-autocomplete>\r\n            </b-form-group>\r\n            <div id=\"accesosrapidos\" style=\"text-align:center;\">\r\n                <b-button @click=\"verventas2()\" class=\"accesorapido\" style=\"background-color:darkorange;\">Venta</b-button>\r\n                <b-button @click=\"verstock()\" class=\"accesorapido\" style=\"background-color:dodgerblue;\">Stock</b-button>\r\n                <b-button @click=\"verdevs()\" class=\"accesorapido\" style=\"background-color:deeppink;\">Devolucion</b-button>\r\n                <b-button @click=\"verventas()\" class=\"accesorapido\" style=\"background-color:dodgerblue;\">Ver Ventas</b-button>\r\n            </div>\r\n        </b-jumbotron>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import VueAwesomplete from \"vue-awesomplete\";\r\n    import axios from \"axios\";\r\n    import { APIControler } from \"../store/APIControler\";\r\n    import Vue from 'vue';\r\n    import VueSession from 'vue-session'\r\n    Vue.use(VueSession)\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                usuario: true,\r\n                op_repartos: [{ value: null, text: 'Ningun Reparto' }],\r\n                repartos: [],\r\n                stocks: [],\r\n                op_stocks: [{ value: null, text: 'Ningun Reparto' }],\r\n                pagina: {},\r\n                repartohabilitado: false,\r\n            }\r\n        },\r\n        methods: {\r\n            prueba()\r\n            {\r\n                console.log($cookies.get('usuario'))\r\n            },\r\n            logout()\r\n            {\r\n                this.$session.destroy()\r\n                swal(\"Deslogueado\", \" \", \"success\");\r\n                window.location.replace('/')\r\n                /*axios.post('http://45.162.169.58:8081/auth/logout/',\r\n                    {})\r\n                    .then(resp => {\r\n                        swal(\"Operaci�n Exitosa\", \" \", \"success\");\r\n                    })\r\n                    .catch(err => {\r\n                        swal(\"�ERROR!\", \"Error en logout\", \"error\");\r\n                        console.log(err)\r\n                    })*/\r\n            },\r\n            redirect() {\r\n                if (!this.$session.exists()) {\r\n                    window.location.replace('/login');\r\n                }\r\n                if (this.$session.get('tipocuenta') != 'administrador' && this.$session.get('tipocuenta') != 'reparto' && this.$session.get('tipocuenta') != 'encargado') {\r\n                    window.location.replace('/login');\r\n                }\r\n\r\n            },\r\n            async getRepartos() {\r\n                let productosAPI = new APIControler();\r\n                productosAPI.apiUrl.pathname = \"repartos/\";\r\n                this.repartos = await productosAPI.getData();\r\n                let option\r\n                this.repartos.forEach((element) => {\r\n                    option = {};\r\n                    option.value =\r\n                        \"http://45.162.169.58:8081/repartos/\" + element.id_reparto + \"/\";\r\n                    option.text = element.id_reparto + ' - ' + element.nombre;\r\n                    console.log(option);\r\n                    this.op_repartos.push(option);\r\n                });\r\n                this.op_repartos.push(option);\r\n            },\r\n            async getStocks() {\r\n                let productosAPI = new APIControler();\r\n                productosAPI.apiUrl.pathname = \"stocks/\";\r\n                this.stocks = await productosAPI.getData();\r\n                let option\r\n                this.stocks.forEach((element) => {\r\n                    option = {};\r\n                    option.value =\r\n                        \"http://45.162.169.58:8081/stocks/\" + element.id_stock + \"/\";\r\n                    option.text = element.id_stock;\r\n                    console.log(option);\r\n                    this.op_stocks.push(option);\r\n                });\r\n            },\r\n            verventas()\r\n            {\r\n                if (this.$session.get('repartused') != null) {\r\n                    window.location.replace('/ventasReparto/?id_repa=' + this.$session.get('repartused').id_reparto);\r\n                } else\r\n                {\r\n                    windows.location.replace('/ventas/');\r\n                }\r\n            },\r\n            verventas2() {\r\n                if (this.$session.get('repartused') != null) {\r\n                    window.location.replace('/ventasReparto/?abrir=true&id_repa=' + this.$session.get('repartused').id_reparto);\r\n                } else {\r\n                    windows.location.replace('/ventas/');\r\n                }\r\n            },\r\n            verdevs() {\r\n                if (this.$session.get('repartused') != null) {\r\n                    window.location.replace('/devoreparto/?abrir=true&id_dev=' + this.$session.get('repartused').id_reparto);\r\n                } else {\r\n                    windows.location.replace('/ventas/');\r\n                }\r\n            },\r\n            verstock() {\r\n                if (this.$session.get('repartused') != null) {\r\n                    window.location.replace('/stockreparto/?id_sto=' + this.$session.get('stockused').id_stock);\r\n                } else {\r\n                    windows.location.replace('/stocks/');\r\n                }\r\n            },\r\n            fechaactual() {\r\n                const f = new Date();\r\n                //Devuelve formato s�lo de fecha pero en el formato regional actual ejemplo: 24/8/2019\r\n                console.log(f.toLocaleDateString());\r\n\r\n                /**\r\n                 * Si no le convence, puede recurrir a hacer el ajuste manual\r\n                 **/\r\n                const formatDate = (d) => {\r\n                    return d.getFullYear() + \"-\" + ('0' + (d.getMonth() + 1)).slice(-2) + \"-\" + ('0' + d.getDate()).slice(-2)\r\n                }\r\n                console.log(formatDate(f));\r\n                return (formatDate(f));\r\n            },\r\n            getReparto(id) {\r\n                if (this.repartos == []) {\r\n                    return getRepartos().then(() => {\r\n                        return this.getReparto(id)\r\n                    })\r\n                }\r\n                else {\r\n                    return this.repartos.find(s => {\r\n                        return s.id_reparto == id\r\n                    })\r\n                }\r\n            },\r\n            getStockactual(id_repa) {\r\n                if (this.stocks == []) {\r\n                    return getStocks().then(() => {\r\n                        return this.getStockactual(id_repa)\r\n                    })\r\n                }\r\n                else {\r\n                    return this.stocks.find(s => {\r\n                        if (s.fechastock == this.fechaactual()) {\r\n                            return s.id_reparto.split('/')[4] == id_repa\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            setReparto() {\r\n                this.$session.start()\r\n                if (this.pagina.id_reparto == null) {\r\n                    this.$session.set('repartused', null);\r\n                    this.$session.set('stockused', null);\r\n                } else {\r\n                    this.$session.set('repartused', this.getReparto(this.pagina.id_reparto.split('/')[4]));\r\n                    this.$session.set('stockused', this.getStockactual(this.pagina.id_reparto.split('/')[4]));\r\n                }\r\n                console.log(this.$session.get('repartused'));\r\n                console.log(this.$session.get('stockused'));\r\n            },\r\n            inicializar() {\r\n                if (this.$session.exists()) {\r\n                    if (this.$session.get('tipocuenta') == 'reparto') {\r\n                        this.repartohabilitado = true;\r\n                        this.pagina.id_reparto = 'http://45.162.169.58:8081/repartos/' + String(this.$session.get('repartused').id_reparto) + '/';\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        computed:\r\n        {\r\n            controlarusuario: function () {\r\n                if ($cookies.get('usuario') != null) {\r\n                    this.usuario = true\r\n                } else {\r\n                    this.usuario = false\r\n                }\r\n            }\r\n\r\n        },\r\n        beforeMount() {\r\n            this.getRepartos();\r\n            this.getStocks();\r\n            this.inicializar();\r\n            this.redirect();\r\n        },\r\n\r\n    };\r\n</script>\r\n\r\n<style>\r\n    h1 {\r\n        text-align: center;\r\n    }\r\n\r\n    #Logo_fed {\r\n        width: 25%;\r\n        display: block;\r\n        margin: auto;\r\n    }\r\n\r\n    .accesorapido {\r\n        margin: 1em;\r\n        text-align: center;\r\n        align-content: center;\r\n        color: white !important;\r\n        background-color: darkorange;\r\n        width: 70%;\r\n    }\r\n\r\n        .accesorapido:hover, .accesorapido:focus {\r\n            color: black;\r\n            background-color: white !important;\r\n        }\r\n\r\n    #accesosrapidos {\r\n        text-align: center;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainMobile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainMobile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainMobile.vue?vue&type=template&id=5866a652&\"\nimport script from \"./MainMobile.vue?vue&type=script&lang=js&\"\nexport * from \"./MainMobile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainMobile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainMobile.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}