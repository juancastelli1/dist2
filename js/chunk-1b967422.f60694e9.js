(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b967422"],{"494f":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"text-align":"center","align-content":"center"}},[r("img",{attrs:{src:s("b640"),alt:"Logo Federación",srcset:"",id:"Logo"}}),r("b-card",{staticStyle:{"max-width":"65%","text-align":"center","align-content":"center"},attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",staticStyle:{"padding-bottom":"4em"},attrs:{label:"INICIAR SESION","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("v-text-field",{attrs:{required:"",name:"username",label:"Nombre de usuario",placeholder:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),r("v-text-field",{attrs:{required:"",name:"password",label:"Contraseña",placeholder:"mi contraseña",type:e.show?"text":"password","append-icon":e.show?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("v-btn",{staticClass:"mr-4",on:{click:function(t){return e.controlaruser()}}},[e._v(" Iniciar Sesión ")])],1)],1)},n=[],a=s("1da1"),o=(s("96cf"),s("159b"),s("fb6a"),s("7db0"),s("ac1f"),s("1276"),s("5319"),s("1940")),c=s.n(o),i=s("c03a"),u=s("2b0e"),l=s("0628"),p=s.n(l);u["default"].use(p.a);var d={data:function(){return{show:!1,user:{username:"",password:""},listrepartos:[],op_repartos:[],stocks:[],listusers:[],op_stocks:[]}},methods:{getRepartos:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new i["a"],s.apiUrl.pathname="repartos/",t.next=4,s.getData();case 4:e.listrepartos=t.sent,e.listrepartos.forEach((function(t){r={},r.value="http://45.162.169.58:8081/repartos/"+t.id_reparto+"/",r.text=t.nombre,console.log(r),e.op_repartos.push(r)}));case 6:case"end":return t.stop()}}),t)})))()},getStocks:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new i["a"],s.apiUrl.pathname="stocks/",t.next=4,s.getData();case 4:e.stocks=t.sent,e.stocks.forEach((function(t){r={},r.value="http://45.162.169.58:8081/stocks/"+t.id_stock+"/",r.text=t.id_stock,console.log(r),e.op_stocks.push(r)}));case 6:case"end":return t.stop()}}),t)})))()},getUsuarios:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new i["a"],s.apiUrl.pathname="usuarios/",t.next=4,s.getData();case 4:e.listusers=t.sent;case 5:case"end":return t.stop()}}),t)})))()},fechaactual:function(){var e=new Date;console.log(e.toLocaleDateString());var t=function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};return console.log(t(e)),t(e)},getStockactual:function(e){var t=this;return e=String(e),console.log(e),this.stocks==[]?getStocks().then((function(){return t.getStockactual(e)})):this.stocks.find((function(s){if(s.fechastock==t.fechaactual())return s.id_stock,s.id_reparto.split("/")[4]==e}))},controlaruser:function(){var e=this,t=String(this.user.username),s=String(this.user.password);console.log(t+s),this.listrepartos.forEach((function(r){r.usuario==t&&r.contrasenia==s&&(r.cuentaactiva?(e.$session.start(),e.$session.set("repartused",r),e.$session.set("stockused",e.getStockactual(r.id_reparto)),e.$session.set("tipocuenta","reparto"),console.log(e.$session.get("repartused")),console.log(e.$session.get("stockused")),window.location.replace("/")):c()("Su cuenta esta desactivada"," ","error"))})),this.listusers.forEach((function(r){console.log(r.usuar),console.log("contrasenia:"+r.passw),r.usuar==t&&r.passw==s&&(e.$session.start(),e.$session.set("repartused",r),e.$session.set("stockused",-1),e.$session.set("tipocuenta",r.tipocuenta),window.location.replace("/"))})),setTimeout((function(){c()("Usuario o contraseña Incorrectos"," ","error")}),1e3)},logIn:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetcher.login(e.user);case 2:location.reload();case 3:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getRepartos(),this.getStocks(),this.getUsuarios()}},f=d,g=(s("9239"),s("2877")),h=Object(g["a"])(f,r,n,!1,null,null,null);t["default"]=h.exports},9239:function(e,t,s){"use strict";s("d421")},b640:function(e,t,s){e.exports=s.p+"img/logo.8b4c1cc1.jpg"},d421:function(e,t,s){}}]);
//# sourceMappingURL=chunk-1b967422.f60694e9.js.map