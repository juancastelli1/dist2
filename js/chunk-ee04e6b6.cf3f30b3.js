(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee04e6b6"],{"1e8c":function(t,a,e){},"6ce0":function(t,a,e){"use strict";e("1e8c")},a60f:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"myTable",staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{id:"clientes"}},[e("b-form-group",{staticStyle:{display:"inline-block",width:"50%"},attrs:{label:"Fecha Inicial","label-for":"fechainiusada"}},[e("b-form-input",{attrs:{id:"fechainiusada",type:"date",placeholder:"Ingrese la fecha en la que quiere el reporte","invalid-feedback":"Complete este campo",required:""},on:{change:function(a){return t.fechausadacambio()}},model:{value:t.fechainiusada,callback:function(a){t.fechainiusada=a},expression:"fechainiusada"}})],1),e("b-form-group",{staticStyle:{display:"inline-block",width:"50%"},attrs:{label:"Fecha Final","label-for":"fechafinusada"}},[e("b-form-input",{attrs:{id:"fechafinusada",gma:"",type:"date",placeholder:"Ingrese la fecha en la que quiere el reporte","invalid-feedback":"Complete este campo",required:""},on:{change:function(a){return t.fechausadacambio()}},model:{value:t.fechafinusada,callback:function(a){t.fechafinusada=a},expression:"fechafinusada"}})],1),e("b-form-group",{attrs:{label:"*Reparto","label-for":"id_reparto"},on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("v-autocomplete",{attrs:{id:"id_reparto",type:"text",placeholder:"Ingrese un Reparto","invalid-feedback":"Complete este campo",required:"",solo:"",filled:"",items:t.op_repartos},on:{change:function(a){return t.cambiarrepausado(t.idrepaus)}},model:{value:t.idrepaus,callback:function(a){t.idrepaus=a},expression:"idrepaus"}})],1),e("b-modal",{ref:"modal-pdf",attrs:{"no-close-on-backdrop":"",size:"xl",id:"modal-pdf","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[e("h5",{staticClass:"modal-title"},[t._v("Vista Previa")])]},proxy:!0}])},[e("reporte-listadopdf",{attrs:{PDFventa:t.ordenAPDF}})],1),e("div",[e("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{id:"btn_down_pdf",title:"Generar PDF",variant:"danger"},on:{click:function(a){return t.generarPDF()}}},[e("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),t._v(" Generar PDF ")]),e("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{id:"btn_down_pdf",title:"Generar Excel",variant:"success"},on:{click:function(a){return t.generarPDF1()}}},[e("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),t._v(" Generar Excel ")])],1),e("script",{tag:"component",attrs:{src:"https://code.jquery.com/jquery-1.12.3.min.js",async:""}}),e("script",{tag:"component",attrs:{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js",async:""}}),e("script",{tag:"component",attrs:{src:"https://cdn.jsdelivr.net/npm/chart.js@2.9.4",async:""}}),-1===t.idrepaus?e("div",{attrs:{id:"divpdf"}},[e("div",{attrs:{id:"graficos"}},[e("h3",[t._v("Periodo: "+t._s(t.fechainiusada)+" hasta "+t._s(t.fechafinusada))]),t._m(0),t._m(1),t._m(2)]),e("vue-headful",{attrs:{title:"Ventas por cada Reparto"}}),e("div",{attrs:{id:"tabla"}},t._l(t.repartoslista,(function(a,r){return e("div",{key:r,staticStyle:{"max-width":"100%",display:"inline-block",margin:"2em"}},[e("h1",[t._v("Reparto nro "+t._s(a.repa.id_reparto))]),e("h3",[t._v("Periodo: "+t._s(t.fechainiusada)+" hasta "+t._s(t.fechafinusada))]),e("h2",[t._v("Listado de Clientes")]),e("div",{staticStyle:{"max-width":"100%",display:"inline-block",margin:"2em"}},[e("b-table",{ref:"tablaregistros",refInFor:!0,attrs:{fields:t.fields,striped:"",responsive:"",hover:"",items:a.tabla_clientes,"show-empty":"","per-page":t.perPage,"current-page":t.currentPage,"tbody-tr-class":t.rowClass,"no-border-collapse":!1,id:"tablaregistros"},scopedSlots:t._u([{key:"empty",fn:function(){return[e("b",[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(nroventas)",fn:function(a){return[t._v(" "+t._s(a.item.tabla_ventas.length)+" ")]}},{key:"cell(gastadototal)",fn:function(a){return[t._v(" "+t._s(t.suma(a.item.tabla_ventas))+" ")]}},{key:"cell(costototal)",fn:function(a){return[t._v(" "+t._s(t.costos(a.item.tabla_ventas))+" ")]}},{key:"cell(ganancia)",fn:function(a){return[t._v(" "+t._s(t.ganancia(a.item.tabla_ventas))+" ")]}},{key:"cell(icono)",fn:function(a){return[t._v(" "+t._s(t.iconos(a.item))+" ")]}},{key:"cell(sumacantidad)",fn:function(a){return[t._v(" "+t._s(t.cantidad(a.item.tabla_ventas))+" ")]}},{key:"cell(sumasaldo)",fn:function(a){return[t._v(" "+t._s(t.saldos(a.item.tabla_ventas))+" ")]}},{key:"cell(action)",fn:function(a){return[e("div",{staticClass:"mt-3"},[e("b-button-group",[e("b-button",{attrs:{variant:"info",id:"button-1",title:"Mostrar Información adicional"},on:{click:a.toggleDetails}},[t._v(" "+t._s(a.detailsShowing?"Ocultar":"Mostrar")+" Ventas ")])],1)],1)]}},{key:"row-details",fn:function(a){return[e("b-card",[e("b-list-group",{attrs:{horizontal:""}},[e("b-list-group",[e("b-card",{attrs:{title:" Ventas: "}},[e("b-list-group",{attrs:{horizontal:""}},t._l(a.item.tabla_ventas,(function(a){return e("div",{key:a.id},[e("b-list-group",[e("p",[e("b",[t._v("Total: ")]),t._v(t._s(a.gananciatotal)+" ")]),e("p",[e("b",[t._v("Costo: ")]),t._v(t._s(a.costototal)+" ")]),e("p",[e("b",[t._v("Ganancia: ")]),t._v(t._s(a.ganancia)+" ")]),e("p",[e("b",[t._v("Stock: ")]),t._v(t._s(a.id_stock.split("/")[4])+" ")])]),e("br"),e("h5",[t._v("Productos comprados")]),t._l(a.componentes,(function(a){return e("div",{key:a.id},[e("b-list-group",[e("b-list-group-item",[e("b",[t._v("Producto:")]),t._v(" "+t._s(t.productos.find((function(t){return t.id_producto==a.producto.split("/")[4]})).nombre)+" ")]),e("b-list-group-item",[e("p",[e("b",[t._v("Cantidad: ")]),t._v(" "+t._s(a.cantidad)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Precio Unitario: ")]),t._v(" $"+t._s(a.precio)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Costo Total: ")]),t._v(" $"+t._s(a.costo*a.cantidad)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Precio Total: ")]),t._v(" $"+t._s(a.precio*a.cantidad)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Precio Referencia: ")]),t._v(" $"+t._s(a.precioref)+" ")])])],1)],1)}))],2)})),0)],1)],1),t._v("   ")],1)],1)]}}],null,!0)})],1)])})),0)],1):e("div",{attrs:{id:"divpdf"}},[e("div",{attrs:{id:"graficos"}},[e("h3",[t._v("Periodo: "+t._s(t.fechainiusada)+" hasta "+t._s(t.fechafinusada))]),t._m(3),t._m(4),t._m(5)]),e("div",{attrs:{id:"tabla"}},[e("vue-headful",{attrs:{title:"Ventas por cada Reparto"}}),e("h1",[t._v("Reparto nro "+t._s(t.repartousado.repa.id_reparto))]),e("h3",[t._v("Periodo: "+t._s(t.fechainiusada)+" hasta "+t._s(t.fechafinusada))]),e("h2",[t._v("Listado de Clientes")]),e("div",{staticStyle:{"max-width":"100%",display:"inline-block",margin:"2em"}},[e("b-table",{ref:"tablaregistros",attrs:{fields:t.fields,striped:"",responsive:"",hover:"",items:t.repartousado.tabla_clientes,"show-empty":"","per-page":t.perPage,"current-page":t.currentPage,"tbody-tr-class":t.rowClass,"no-border-collapse":!1,id:"tablaregistros"},scopedSlots:t._u([{key:"empty",fn:function(){return[e("b",[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(nroventas)",fn:function(a){return[t._v(" "+t._s(a.item.tabla_ventas.length)+" ")]}},{key:"cell(gastadototal)",fn:function(a){return[t._v(" "+t._s(t.suma(a.item.tabla_ventas))+" ")]}},{key:"cell(costototal)",fn:function(a){return[t._v(" "+t._s(t.costos(a.item.tabla_ventas))+" ")]}},{key:"cell(ganancia)",fn:function(a){return[t._v(" "+t._s(t.ganancia(a.item.tabla_ventas))+" ")]}},{key:"cell(sumacantidad)",fn:function(a){return[t._v(" "+t._s(t.cantidad(a.item.tabla_ventas))+" ")]}},{key:"cell(sumasaldo)",fn:function(a){return[t._v(" "+t._s(t.saldos(a.item.tabla_ventas))+" ")]}},{key:"cell(icono)",fn:function(a){return[e("h5",[e("b",[t._v(t._s(t.iconos(a.item)))])])]}},{key:"cell(action)",fn:function(a){return[e("div",{staticClass:"mt-3"},[e("b-button-group",[e("b-button",{attrs:{variant:"info",id:"button-1",title:"Mostrar Información adicional"},on:{click:a.toggleDetails}},[t._v(" "+t._s(a.detailsShowing?"Ocultar":"Mostrar")+" Ventas ")])],1)],1)]}},{key:"row-details",fn:function(a){return[e("b-card",[e("b-list-group",{attrs:{horizontal:""}},[e("b-list-group",[e("b-card",{attrs:{title:" Ventas: "}},[e("b-list-group",{attrs:{horizontal:""}},t._l(a.item.tabla_ventas,(function(a){return e("div",{key:a.id},[e("b-list-group",[e("p",[e("b",[t._v("Total: ")]),t._v(t._s(a.gananciatotal)+" ")]),e("p",[e("b",[t._v("Costo: ")]),t._v(t._s(a.costototal)+" ")]),e("p",[e("b",[t._v("Ganancia: ")]),t._v(t._s(a.ganancia)+" ")]),e("p",[e("b",[t._v("Stock: ")]),t._v(t._s(a.id_stock.split("/")[4])+" ")])]),e("br"),e("h5",[t._v("Productos comprados")]),t._l(a.componentes,(function(a){return e("div",{key:a.id},[e("b-list-group",[e("b-list-group-item",[e("b",[t._v("Producto:")]),t._v(" "+t._s(t.productos.find((function(t){return t.id_producto==a.producto.split("/")[4]})).nombre)+" ")]),e("b-list-group-item",[e("p",[e("b",[t._v("Cantidad: ")]),t._v(" "+t._s(a.cantidad)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Precio Unitario: ")]),t._v(" $"+t._s(a.precio)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Costo Total: ")]),t._v(" $"+t._s(a.costo*a.cantidad)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Precio Total: ")]),t._v(" $"+t._s(a.precio*a.cantidad)+" ")])]),e("b-list-group-item",[e("p",[e("b",[t._v("Precio Referencia: ")]),t._v(" $"+t._s(a.precioref)+" ")])])],1)],1)}))],2)})),0)],1)],1),t._v("   ")],1)],1)]}}])})],1)],1)])],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center","vertical-align":"top"}},[e("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart3",width:"300",height:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center"}},[e("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart",width:"300",height:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center","vertical-align":"top"}},[e("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart2",width:"300",height:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center","vertical-align":"top"}},[e("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart3",width:"300",height:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center"}},[e("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart",width:"300",height:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center","vertical-align":"top"}},[e("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart2",width:"300",height:"500"}})])}],s=e("1da1"),i=e("5530"),o=(e("96cf"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("4de4"),e("caad"),e("2532"),e("159b"),e("ac1f"),e("1276"),e("7db0"),e("fb6a"),e("6480")),c=(e("bc3a"),e("6ada"),e("8baf"),e("618c")),l=e("aa47"),u=e("d67e"),d=e.n(u),p=e("d549"),h=(e("f7e2"),e("c03a")),f=(e("e4a4"),new URL("http://45.162.168.170:8081"));f.pathname="ventas";var b=function(t,a,e){return l["a"].create(t,Object(i["a"])({},a))},g={name:"sortable",bind:function(t,a,e){var r=t.querySelector("table");r._sortable=b(r.querySelector("tbody"),a.value,e)}},v={directives:{sortable:g},components:{VueHtml2pdf:o["a"],ReporteListadopdf:c["a"]},data:function(){return{repartoslista:[],reparto:{},chart:null,chart2:null,chart3:null,datarep:[],listacli:[],hex:[],idrepaus:0,lista_id:[],repartousado:{repa:{},lista_id:[],tabla_clientes:[]},productos:[],datachart:{labels:[],datasets:[]},datachart2:{labels:["Mercado Pago","Efectivo"],datasets:[]},datachart3:{labels:["Pagado","En saldo"],datasets:[]},fields:[{key:"icono",label:"Icono",sortable:!0},{key:"cliente.numero_cliente",label:"N° Cliente",sortable:!0},{key:"cliente.nombre",label:"Nombre/s",sortable:!0},{key:"sumasaldo",label:"Suma de Saldo",sortable:!0},{key:"sumacantidad",label:"Suma Cantidad",sortable:!0},{key:"costototal",label:"Costo Total",sortable:!0},{key:"gastadototal",label:"Venta Total",sortable:!0},{key:"nroventas",label:"Numero de Ventas",sortable:!0},{key:"ganancia",label:"Ganancia",sortable:!0},{key:"action",label:"",variant:"secondary"}],totalRows:1,currentPage:1,perPage:10,buscar:"",op_repartos:[{value:-1,text:"Todos los Repartos"}],fechainiusada:null,fechafinusada:null,sortableOptions:{chosenClass:"is-selected"},token:"",infoVisitar:{id:"modal_visitar",cliente:-1},ordenAPDF:{}}},computed:{rows:function(){return this.tabla_ventas.length},id:function(){return this.tabla_ventas.numero_orden},items:function(){var t=this;return tabla_ordenes.filter((function(a){return a.numero_orden.toLowerCase().includes(t.buscar.toLowerCase())}))}},methods:{suma:function(t){for(var a=0,e=0;e<t.length;e++)a+=t[e].totalpagado+t[e].totalpagadomp;return a},costos:function(t){var a=0;return t.forEach((function(t){a+=t.costototal})),a},ganancia:function(t){var a=0;return t.forEach((function(t){a+=t.ganancia})),a},cantidad:function(t){var a=0;return t.forEach((function(t){t.componentes.forEach((function(t){a+=t.cantidad}))})),a},saldos:function(t){var a=0;return t.forEach((function(t){a-=t.diferencia})),Math.abs(a)},fechausadacambio:function(){this.setGraph(),-1!=this.idrepaus?this.testFetch():this.testFetch2()},cambiarrepausado:function(t){-1!=this.idrepaus?(this.repartousado.repa=this.getReparto(t),this.setGraph(),this.testFetch()):(this.repartousado.repa=null,this.setGraph(),this.testFetch2())},rowClass:function(t,a){return t&&"row"===a?t.cliente.saldopollo+t.cliente.saldocongelados>this.getLimite(t.cliente.categoria.split("/")[4]).limite?"table-warning":void 0:"table-danger"},iconos:function(t){var a=this,e="",r=0,n=0,s=0;return this.repartousado.tabla_clientes.forEach((function(t){a.saldos(t.tabla_ventas)>r&&(r=a.saldos(t.tabla_ventas)),a.suma(t.tabla_ventas)>n&&(n=a.suma(t.tabla_ventas)),a.ganancia(t.tabla_ventas)>s&&(s=a.ganancia(t.tabla_ventas))})),this.ganancia(t.tabla_ventas)==s&&(e+=" ＄ "),this.suma(t.tabla_ventas)==n&&(e+=" ★ "),this.saldos(t.tabla_ventas)==r&&(e+=" ✗ "),e},getLimite:function(t){var a=this.listacat.find((function(a){return a.id_categoria==t}));return a},getCategorias:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=new h["a"],e.apiUrl.pathname="categorias/",a.next=4,e.getData();case 4:t.listacat=a.sent;case 5:case"end":return a.stop()}}),a)})))()},testFetch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e,r,n,s,i,o,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(f);case 3:return e=a.sent,a.next=6,e.json();case 6:r=a.sent,n=0,s=0,i=0,r.results.length,t.datachart.datasets=[],t.datachart2.datasets=[],t.datachart3.datasets=[],t.datachart.labels=[],o={label:"Ventas por Reparto",data:[],backgroundColor:["rgb(276, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(0, 0, 0)","rgb(255, 165, 0)","rgb(137, 30, 53)"],hoverOffset:4},c={label:"Pagos de Clientes",data:[],backgroundColor:["rgb(0, 0, 0)","rgb(255, 165, 0)","rgb(137, 30, 53)"],hoverOffset:4},l={label:"Pagos de Clientes",data:[],backgroundColor:["rgb(102, 229, 42)","rgb(137, 30, 53)"],hoverOffset:4},u={repa:null,lista_id:[],tabla_clientes:[]},u.repa=t.repartousado.repa,u.repa.clientes_reparto.forEach((function(t){return u.lista_id.push(parseInt(t.split("/")[4]))})),t.listacli.forEach((function(a){var e={cliente:a,tabla_ventas:[]};t.datachart.labels.push("Cliente "+a.numero_cliente);for(var c=0;c<r.results.length;c++)t.checkearfecha(r.results[c].fecharealizacion)&&r.results[c].id_reparto.split("/")[4]==t.repartousado.repa.id_reparto&&r.results[c].id_cliente.split("/")[4]==a.numero_cliente&&(n+=r.results[c].totalpagadomp,s+=r.results[c].totalpagado,i-=r.results[c].diferencia,e.tabla_ventas.push(r.results[c]));console.log(e),u.lista_id.includes(a.numero_cliente)&&u.tabla_clientes.push(e),o.data.push(t.suma(e.tabla_ventas)),t.datachart.datasets.push(o),t.repartousado=u,console.log("opcion completa"),console.log(u)})),c.data.push(n),c.data.push(s),l.data.push(n+s),l.data.push(i),t.datachart2.datasets.push(c),t.datachart3.datasets.push(l),console.log(t.repartoslista),t.setGraph(),console.log(t.repartousado.tabla_clientes),a.next=36;break;case 33:a.prev=33,a.t0=a["catch"](0),console.log(a.t0);case 36:case"end":return a.stop()}}),a,null,[[0,33]])})))()},testFetch2:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e,r,n,s,i,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.repartoslista=[],a.next=4,fetch(f);case 4:return e=a.sent,a.next=7,e.json();case 7:r=a.sent,n=0,s=0,i=0,r.results.length,t.datachart.datasets=[],t.datachart2.datasets=[],t.datachart3.datasets=[],t.datachart.labels=[],o={label:"Ventas por Reparto",data:[],backgroundColor:["rgb(276, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(0, 0, 0)","rgb(255, 165, 0)","rgb(137, 30, 53)"],hoverOffset:4},c={label:"Pagos de Clientes",data:[],backgroundColor:["rgb(0, 0, 0)","rgb(255, 165, 0)","rgb(137, 30, 53)"],hoverOffset:4},l={label:"Pagos de Clientes",data:[],backgroundColor:["rgb(102, 229, 42)","rgb(137, 30, 53)"],hoverOffset:4},t.datarep.forEach((function(a){var e={repa:null,lista_id:[],tabla_clientes:[]};e.repa=a,e.repa.clientes_reparto.forEach((function(t){return e.lista_id.push(parseInt(t.split("/")[4]))})),t.listacli.forEach((function(c){var l={cliente:c,tabla_ventas:[]};if(e.lista_id.includes(c.numero_cliente)){t.datachart.labels.push("Cliente "+c.numero_cliente);for(var u=0;u<r.results.length;u++)t.checkearfecha(r.results[u].fecharealizacion)&&r.results[u].id_reparto.split("/")[4]==a.id_reparto&&r.results[u].id_cliente.split("/")[4]==c.numero_cliente&&(n+=r.results[u].totalpagadomp,s+=r.results[u].totalpagado,i-=r.results[u].diferencia,l.tabla_ventas.push(r.results[u]));console.log(l),e.lista_id.includes(c.numero_cliente)&&e.tabla_clientes.push(l),o.data.push(t.suma(l.tabla_ventas)),t.datachart.datasets.push(o),console.log("opcion completa"),console.log(e)}})),t.repartoslista.push(e)})),c.data.push(n),c.data.push(s),l.data.push(n+s),l.data.push(i),t.datachart2.datasets.push(c),t.datachart3.datasets.push(l),console.log(t.repartoslista),t.setGraph(),console.log(t.repartousado.tabla_clientes),a.next=34;break;case 31:a.prev=31,a.t0=a["catch"](0),console.log(a.t0);case 34:case"end":return a.stop()}}),a,null,[[0,31]])})))()},checkearfecha:function(t){var a=new Date(this.fechainiusada),e=new Date(this.fechafinusada),r=new Date(t);if(r.getTime()<=e.getTime()&&r.getTime()>=a.getTime())return!0},getRepartos:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=new h["a"],e.apiUrl.pathname="repartos/",a.next=4,e.getData();case 4:t.datarep=a.sent,t.datarep.forEach((function(a){r={},r.value=a.id_reparto,r.text=a.nombre,console.log(r),t.op_repartos.push(r)}));case 6:case"end":return a.stop()}}),a)})))()},getProductos:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=new h["a"],e.apiUrl.pathname="productos/",a.next=4,e.getData();case 4:t.productos=a.sent;case 5:case"end":return a.stop()}}),a)})))()},getClientes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=new h["a"],e.apiUrl.pathname="clientes/",a.next=4,e.getData();case 4:t.listacli=a.sent;case 5:case"end":return a.stop()}}),a)})))()},setGraph:function(){var t=document.getElementById("chart");this.chart&&this.chart.destroy(),this.chart=new p["a"](t,{type:"bar",data:this.datachart,options:{title:{text:"Cantidad de ventas por Reparto",display:!0}}});var a=document.getElementById("chart2");this.chart2&&this.chart2.destroy(),this.chart2=new p["a"](a,{type:"pie",data:this.datachart2,options:{title:{text:"Cantidad de ventas por Reparto",display:!0}}});var e=document.getElementById("chart3");this.chart3&&this.chart3.destroy(),this.chart3=new p["a"](e,{type:"pie",data:this.datachart3,options:{title:{text:"Cantidad de ventas por Reparto",display:!0}}})},showModal:function(){this.$refs["my-modal"].show()},showModalinfo:function(t,a){this.infoVisitar.cliente=t,this.showModal()},hideModal:function(){this.$refs["my-modal"].hide()},fechaactual:function(){var t=new Date;console.log(t.toLocaleDateString());var a=function(t){return("0"+t.getDate()).slice(-2)+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getFullYear()};return console.log(a(t)),a(t)},fechaactual2:function(){var t=new Date,a=function(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)};return console.log(a(t)),a(t)},buscarnow:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e,r,n,s,i,o,c,l,u,d,p,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(e=t.$refs.buscadorlista,r=e.value.toUpperCase(),n=document.getElementById("tablaregistros"),s=n.getElementsByTagName("tr"),o=1;o<s.length;o++)i=s[o].getElementsByTagName("td"),l=i[0].textContent||i[0].innerText,u=i[1].textContent||i[1].innerText,d=i[3].textContent||i[3].innerText,p=i[4].textContent||i[4].innerText,h=i[6].textContent||i[6].innerText,c=l+u+d+p+h,c.toUpperCase().indexOf(r)>-1?s[o].style.display="":s[o].style.display="none";case 5:case"end":return a.stop()}}),a)})))()},getReparto:function(t){var a=this.datarep.find((function(a){return a.id_reparto==t}));return a},inicializar:function(){"reparto"==this.$session.get("tipocuenta")&&(console.log(this.$session.get("repartused")),this.reparto=this.$session.get("repartused")),this.fechainiusada=this.fechaactual2(),this.fechafinusada=this.fechaactual2()},generarPDF:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=document.getElementById("graficos"),d()().set({margin:1,filename:"Graficos.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"landscape"}}).from(a).save().catch((function(t){return console.log(t)})),e=document.getElementById("tabla"),d()().set({margin:1,filename:"Tabla.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,letterRendering:!0},jsPDF:{unit:"in",format:"a3",orientation:"landscape"}}).from(e).save().catch((function(t){return console.log(t)}));case 4:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getRepartos(),this.getCategorias(),this.inicializar(),this.getClientes(),this.getProductos()}},m=v,_=(e("6ce0"),e("2877")),y=Object(_["a"])(m,r,n,!1,null,"69379822",null);a["default"]=y.exports}}]);
//# sourceMappingURL=chunk-ee04e6b6.cf3f30b3.js.map