{"version":3,"sources":["webpack:///./src/components/IniciarSesion.vue?da55","webpack:///src/components/IniciarSesion.vue","webpack:///./src/components/IniciarSesion.vue?b874","webpack:///./src/components/IniciarSesion.vue","webpack:///./src/components/IniciarSesion.vue?5f20","webpack:///./src/assets/logo.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","model","value","user","callback","$$v","$set","expression","show","on","$event","controlaruser","_v","staticRenderFns","productosAPI","apiUrl","pathname","location","reload","component","module","exports"],"mappings":"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","file":"js/chunk-1b967422.f60694e9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"center\",\"align-content\":\"center\"}},[_c('img',{attrs:{\"src\":require(\"../assets/logo.jpg\"),\"alt\":\"Logo Federación\",\"srcset\":\"\",\"id\":\"Logo\"}}),_c('b-card',{staticStyle:{\"max-width\":\"65%\",\"text-align\":\"center\",\"align-content\":\"center\"},attrs:{\"bg-variant\":\"light\"}},[_c('b-form-group',{staticClass:\"mb-0\",staticStyle:{\"padding-bottom\":\"4em\"},attrs:{\"label\":\"INICIAR SESION\",\"label-size\":\"lg\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('v-text-field',{attrs:{\"required\":\"\",\"name\":\"username\",\"label\":\"Nombre de usuario\",\"placeholder\":\"\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('v-text-field',{attrs:{\"required\":\"\",\"name\":\"password\",\"label\":\"Contraseña\",\"placeholder\":\"mi contraseña\",\"type\":_vm.show ? 'text' : 'password',\"append-icon\":_vm.show ? 'mdi-eye' : 'mdi-eye-off'},on:{\"click:append\":function($event){_vm.show = !_vm.show}},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":function($event){return _vm.controlaruser()}}},[_vm._v(\" Iniciar Sesión \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"text-align:center;align-content:center;\">\r\n        <img src=\"../assets/logo.jpg\" alt=\"Logo Federación\" srcset=\"\" id=\"Logo\">\r\n        <b-card bg-variant=\"light\" style=\"max-width:65%;text-align:center;align-content:center;\">\r\n\r\n            <b-form-group \r\n                          label=\"INICIAR SESION\"\r\n                          label-size=\"lg\"\r\n                          label-class=\"font-weight-bold pt-0\"\r\n                          class=\"mb-0\"\r\n                          style=\"padding-bottom:4em;\">\r\n\r\n                <v-text-field required\r\n                              v-model=\"user.username\"\r\n                              name=\"username\"\r\n                              label=\"Nombre de usuario\"\r\n                              placeholder=\"\">\r\n                </v-text-field>\r\n                <v-text-field required\r\n                              v-model=\"user.password\"\r\n                              name=\"password\"\r\n                              label=\"Contraseña\"\r\n                              placeholder=\"mi contraseña\"\r\n                              :type=\"show ? 'text' : 'password'\"\r\n                              :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                              @click:append=\"show = !show\">\r\n                </v-text-field>\r\n            </b-form-group>\r\n            <v-btn class=\"mr-4\" @click=\"controlaruser()\"> Iniciar Sesión </v-btn>\r\n        </b-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import swal from \"sweetalert\";\r\n    import { APIControler } from \"@/store/APIControler\";\r\n    import Vue from 'vue';\r\n    import VueSession from 'vue-session'\r\n    Vue.use(VueSession)\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                show: false,\r\n                user: {\r\n                    username: \"\",\r\n                    password: \"\",\r\n                },\r\n                listrepartos: [],\r\n                op_repartos: [],\r\n                stocks: [],\r\n                listusers: [],\r\n                op_stocks:[],\r\n            };\r\n        },\r\n        methods: {\r\n            async getRepartos() {\r\n                let productosAPI = new APIControler();\r\n                productosAPI.apiUrl.pathname = \"repartos/\";\r\n                this.listrepartos = await productosAPI.getData();\r\n                let option\r\n                this.listrepartos.forEach((element) => {\r\n                    option = {};\r\n                    option.value =\r\n                        \"http://45.162.169.58:8081/repartos/\" + element.id_reparto + \"/\";\r\n                    option.text = element.nombre;\r\n                    console.log(option);\r\n                    this.op_repartos.push(option);\r\n                });\r\n            },\r\n            async getStocks() {\r\n                let productosAPI = new APIControler();\r\n                productosAPI.apiUrl.pathname = \"stocks/\";\r\n                this.stocks = await productosAPI.getData();\r\n                let option\r\n                this.stocks.forEach((element) => {\r\n                    option = {};\r\n                    option.value =\r\n                        \"http://45.162.169.58:8081/stocks/\" + element.id_stock + \"/\";\r\n                    option.text = element.id_stock;\r\n                    console.log(option);\r\n                    this.op_stocks.push(option);\r\n                });\r\n            },\r\n            async getUsuarios() {\r\n                let productosAPI = new APIControler();\r\n                productosAPI.apiUrl.pathname = \"usuarios/\";\r\n                this.listusers = await productosAPI.getData();\r\n            },\r\n            fechaactual() {\r\n                const f = new Date();\r\n                //Devuelve formato sólo de fecha pero en el formato regional actual ejemplo: 24/8/2019\r\n                console.log(f.toLocaleDateString());\r\n\r\n                /**\r\n                 * Si no le convence, puede recurrir a hacer el ajuste manual\r\n                 **/\r\n                const formatDate = (d) => {\r\n                    return d.getFullYear() + \"-\" + ('0' + (d.getMonth() + 1)).slice(-2) + \"-\" + ('0' + d.getDate()).slice(-2)\r\n                }\r\n                console.log(formatDate(f));\r\n                return (formatDate(f));\r\n            },\r\n            getStockactual(id_repa) {\r\n                let idfinal = -1;\r\n                id_repa = String(id_repa);\r\n                console.log(id_repa);\r\n                if (this.stocks == []) {\r\n                    return getStocks().then(() => {\r\n                        return this.getStockactual(id_repa)\r\n                    })\r\n                }\r\n                else {\r\n                    return this.stocks.find(s => {\r\n                        if (s.fechastock == this.fechaactual()) {\r\n                            idfinal = s.id_stock;\r\n                            return s.id_reparto.split('/')[4] == id_repa\r\n                        }\r\n                    })\r\n                    return idfinal;\r\n                }\r\n            },\r\n            controlaruser()\r\n            {\r\n                let usuarious = String(this.user.username);\r\n                let contraus = String(this.user.password);\r\n                console.log(usuarious + contraus);\r\n                this.listrepartos.forEach(s => {\r\n                    if ((s.usuario == usuarious) && (s.contrasenia == contraus)) {\r\n                        if (s.cuentaactiva) {\r\n                            this.$session.start()\r\n                            this.$session.set('repartused', s);\r\n                            this.$session.set('stockused', this.getStockactual(s.id_reparto));\r\n                            this.$session.set('tipocuenta', 'reparto');\r\n                            console.log(this.$session.get('repartused'));\r\n                            console.log(this.$session.get('stockused'));\r\n                            window.location.replace('/');\r\n                        } else\r\n                        {\r\n                            swal(\"Su cuenta esta desactivada\", \" \", \"error\");\r\n                        }\r\n                    }\r\n                });\r\n                this.listusers.forEach(s => {\r\n                    console.log(s.usuar);\r\n                    console.log('contrasenia:' + s.passw)\r\n                    if ((s.usuar == usuarious) && (s.passw == contraus))\r\n                    {\r\n                        this.$session.start()\r\n                        this.$session.set('repartused', s);\r\n                        this.$session.set('stockused', -1);\r\n                        this.$session.set('tipocuenta', s.tipocuenta);\r\n                        window.location.replace('/');\r\n                    }\r\n                });\r\n                setTimeout(() => {\r\n                    swal(\"Usuario o contraseña Incorrectos\", \" \", \"error\");\r\n                }, 1000);\r\n            },\r\n            async logIn() {\r\n                await this.fetcher.login(this.user)\r\n                location.reload()\r\n            }\r\n        },\r\n        beforeMount() {\r\n            this.getRepartos();\r\n            this.getStocks();\r\n            this.getUsuarios();\r\n        },\r\n    };\r\n</script>\r\n\r\n<style>\r\n#Logo {\r\n  width: 15%;\r\n  float: left;\r\n  margin: 0.625em;\r\n  /*display: block;*/\r\n  /*margin: auto;*/\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IniciarSesion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IniciarSesion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IniciarSesion.vue?vue&type=template&id=f4298c60&\"\nimport script from \"./IniciarSesion.vue?vue&type=script&lang=js&\"\nexport * from \"./IniciarSesion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IniciarSesion.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IniciarSesion.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.8b4c1cc1.jpg\";"],"sourceRoot":""}