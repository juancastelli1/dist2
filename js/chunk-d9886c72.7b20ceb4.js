(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9886c72"],{"306a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("script",{tag:"component",attrs:{src:"https://code.jquery.com/jquery-1.12.3.min.js",async:""}}),a("script",{tag:"component",attrs:{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js",async:""}}),a("script",{tag:"component",attrs:{src:"https://cdn.jsdelivr.net/npm/chart.js@2.9.4",async:""}}),a("div",{staticClass:"myTable",attrs:{id:"eto"}},[a("vue-headful",{attrs:{title:"Eto - Aranda Distribucion"}}),a("b-form-group",{attrs:{label:"*Lote","label-for":"id_cultivo"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[a("v-autocomplete",{attrs:{id:"id_cultivo",items:t.opcultivos,placeholder:"Elija el cultivo",required:"",solo:"",filled:""},on:{change:function(e){return t.cambiofecha()}},model:{value:t.cultivousado,callback:function(e){t.cultivousado=e},expression:"cultivousado"}})],1),a("b-form-group",{staticStyle:{display:"inline-block",width:"50%"},attrs:{label:"Fecha Inicial","label-for":"fechainiusada"}},[a("b-form-input",{attrs:{id:"fechainiusada",type:"date",placeholder:"Ingrese la fecha en la que quiere el reporte","invalid-feedback":"Complete este campo",required:""},on:{change:function(e){return t.cambiofecha()}},model:{value:t.fechainiusada,callback:function(e){t.fechainiusada=e},expression:"fechainiusada"}})],1),a("b-form-group",{staticStyle:{display:"inline-block",width:"50%"},attrs:{label:"Fecha Final","label-for":"fechafinusada"}},[a("b-form-input",{attrs:{id:"fechafinusada",type:"date",placeholder:"Ingrese la fecha en la que quiere el reporte","invalid-feedback":"Complete este campo",required:""},on:{change:function(e){return t.cambiofecha()}},model:{value:t.fechafinusada,callback:function(e){t.fechafinusada=e},expression:"fechafinusada"}})],1),a("h2",[t._v("Informe de BH")]),a("b-button",{staticClass:"mb-4",attrs:{title:"Recargar",variant:"light"},on:{click:t.testFetch}},[a("v-icon",{staticStyle:{color:"black"},attrs:{dark:""}},[t._v("mdi-cached")]),t._v(" Actualizar ")],1),a("b-button",{staticClass:"mb-4 ml-2",staticStyle:{"background-color":"#00919F",color:"white"},attrs:{id:"btn_down_pdf",title:"Generar PDF"},on:{click:function(e){return t.generarPDF()}}},[a("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),t._v(" Generar PDF ")]),a("div",{attrs:{id:"graficos"}},[a("div",{staticStyle:{"max-width":"100%",display:"inline-block","text-align":"center"}},[a("canvas",{staticStyle:{"text-align":"center"},attrs:{id:"chart",width:"1500",height:"500"}})])]),a("div",[a("b-modal",{ref:"my-modal",attrs:{id:"modal-eliminarTodo","hide-footer":"",title:"Eliminar","ok-only":""}},[t.selected.length===t.rows?a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("¿Esta seguro de eliminar todos los registros ?")])]):a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("¿Esta seguro de eliminar "+t._s(t.selected.length)+" registros ?")])]),a("b-button",{staticClass:"mt-2",attrs:{block:"",title:"Volver Atras"},on:{click:t.hideModal}},[t._v(" Volver Atras ")]),a("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:"",title:"Eliminar"},on:{click:function(e){return t.delete_all_Eto()}}},[t._v(" Eliminar ")])],1)],1),a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:t.rows>0,expression:"rows > 0"}],staticClass:"mb-0",staticStyle:{width:"100%","padding-bottom":"1em"},attrs:{"label-for":"filter-input","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Buscar registros"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")])],1)],1)],1),a("div",[a("pre",[t._v("Cantidad de registros: "+t._s(t.rows))])]),a("div",{attrs:{id:"pdftabla"}},t._l(t.periodocompleto,(function(e,i){return a("div",{key:i},[a("h4",[t._v("Mes: "+t._s(e.mesusado))]),a("b-table",{ref:"tablaregistros",refInFor:!0,attrs:{fields:t.llenarfields(e.tabla_fechas),striped:"",sortable:"",responsive:"",hover:"",items:e.tabla_eto,"show-empty":"","per-page":t.perPage,"current-page":t.currentPage,"sticky-header":!1,"no-border-collapse":!0,id:"tablaregistros",filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"empty",fn:function(){return[a("b",[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(valor)",fn:function(e){return[a("b",[t._v(t._s(e.value))])]}},{key:"cell(selected)",fn:function(e){var i=e.rowSelected;return[i?[a("span",{attrs:{"aria-hidden":"true"}},[t._v("✓")]),a("span",{staticClass:"sr-only"},[t._v("Selected")])]:[a("span",{attrs:{"aria-hidden":"true"}},[t._v(" ")]),a("span",{staticClass:"sr-only"},[t._v("Not selected")])]]}},{key:"row-details",fn:function(e){return[a("b-card",{attrs:{title:"Datos del eto: "}},[a("div",[a("b-list-group",{attrs:{horizontal:""}},[a("b-list-group",{staticClass:"col-3"},[a("b-list-group-item",[a("b",[t._v("Id eto:")]),t._v(" "+t._s(e.item.id_eto))]),a("b-list-group-item",[a("b",[t._v("Numero de ticket:")]),t._v(" "+t._s(e.item.nro_ticket)+" ")]),a("b-list-group-item",[a("b",[t._v("Descripcion:")]),t._v(" "+t._s(e.item.descripcion)+" ")]),a("b-list-group-item",[a("b",[t._v("Total:")]),t._v(" "+t._s(e.item.total))]),a("b-list-group-item",[a("b",[t._v("Fecha:")]),t._v(" "+t._s(e.item.fecha))])],1),t._v("   ")],1)],1)])]}}],null,!0)})],1)})),0),a("b-modal",{ref:"my-modal",attrs:{id:"modal_eliminar","hide-footer":"",title:"Eliminar","ok-only":""}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v(" ¿Esta seguro de eliminar los datos de "+t._s(t.infoEliminar.eto.id_eto)+" - Nro ticket "+t._s(t.infoEliminar.eto.patente)+"? ")])]),a("b-button",{staticClass:"mt-2",attrs:{block:"",title:"Volver Atras"},on:{click:t.hideModal}},[t._v("Volver Atras")]),a("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:"",title:"Eliminar"},on:{click:function(e){return t.deleteEto(t.infoEliminar.eto.id_eto)}}},[t._v(" Eliminar ")])],1),a("b-container",{attrs:{fluid:""}},[a("b-col",{staticClass:"my-1"},[a("b-pagination",{attrs:{align:"center",pills:"","total-rows":t.rows,"per-page":t.perPage,"aria-controls":"table_eto"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},r=[],n=a("1da1"),s=a("ade3"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("4de4"),a("ac1f"),a("1276"),a("159b"),a("7db0"),a("fb6a"),a("caad"),a("2532"),a("5319"),a("c03a")),c=a("bc3a"),l=a.n(c),u=a("d67e"),h=a.n(u),d=a("d549"),f=(a("f7e2"),new URL("http://45.162.168.170:8081"));f.pathname="eto";var p={data:function(){var t;return t={tabla_eto:[],campos:[],fields:[{key:"mes",label:"Mes",sortable:!0}],selected:[],opcultivos:[{value:null,text:"Elija un cultivo",disabled:!0}],cultivousado:null,periodocompleto:[],fechas:[],bhs:[],listacli:[],pps:[],etos:[],datachart:{labels:[],datasets:[]},filter:null,totalRows:1,currentPage:1,perPage:10,buscar:"",editar:{},lotesusados:[],fechainiusada:null,etous:!0,campousado:null,fechafinusada:null},Object(s["a"])(t,"cultivousado",null),Object(s["a"])(t,"infoEliminar",{id:"modal_eliminar",eto:-1}),Object(s["a"])(t,"btn_down_pdf",!0),Object(s["a"])(t,"btn_del_full",!0),Object(s["a"])(t,"msj_tabla"," Presione 'Mostrar' para ver los regitros "),Object(s["a"])(t,"btn_mostrar",!1),Object(s["a"])(t,"btn_editar",!1),Object(s["a"])(t,"btn_eliminar",!1),Object(s["a"])(t,"btn_select",!1),Object(s["a"])(t,"btn_limpiar",!0),t},computed:{rows:function(){return this.totalRows=this.tabla_eto.length},rowsFilter:function(){return this.totalRows},id:function(){return this.tabla_eto.id_eto},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{cambiofecha:function(){this.periodocompletardo()},GuardarPrecioRef:function(t){var e=t.field.key;if(e=e.split("-")[2]+"-"+e.split("-")[1]+"-"+e.split("-")[0],null==this.findetofecha(e)){var a={fecha:e,eto:t.value,id_cultivo:this.cultivousado};this.postEto(a)}else{var i=this.findetofecha2(e);i.eto=t.value,this.putEto(i)}console.log(t),this.etous=!0},getCultivos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="cultivos/",e.next=4,a.getData();case 4:t.listacli=e.sent,t.listacli.forEach((function(e){i={},i.value="http://45.162.168.170:8081/cultivos/"+e.id_cultivo+"/",i.text=e.id_campo.split("/")[4]+" - "+e.tipo+" - "+e.tiposuelo,t.opcultivos.push(i)}));case 6:case"end":return e.stop()}}),e)})))()},generarPDF:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=document.getElementById("graficos"),h()().set({margin:1,filename:"GraficosPeriodoDe"+t.fechainiusada+" a "+t.fechafinusada+".pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,letterRendering:!0},jsPDF:{unit:"in",format:"a3",orientation:"landscape"}}).from(a).save().catch((function(t){return console.log(t)})),i=document.getElementById("pdftabla"),h()().set({margin:1,filename:"TablaPeriodoDe"+t.fechainiusada+" a "+t.fechafinusada+".pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,letterRendering:!0},jsPDF:{unit:"in",format:"a3",orientation:"landscape"}}).from(i).save().catch((function(t){return console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},postEto:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=new o["a"],i.apiUrl.pathname="eto/",a.next=4,i.postData(t);case 4:e.respuesta=a.sent;case 5:case"end":return a.stop()}}),a)})))()},postBh:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=new o["a"],i.apiUrl.pathname="bh/",a.next=4,i.postData2(t);case 4:e.respuesta=a.sent;case 5:case"end":return a.stop()}}),a)})))()},armarGrafico:function(){var t=this;this.datachart.labels=this.fechas;var e={label:"DR",data:[],borderColor:"rgb(255, 165, 0)",backgroundColor:"rgb(255, 165, 0)",hoverOffset:4,yAxisID:"y"};this.fechas.forEach((function(a){a.split("-")[0],a.split("-")[1],a.split("-")[2];console.log("sacao"),console.log(t.getCultivo(t.cultivousado.split("/")[4]).calculodr),e.data.push(t.getCultivo(t.cultivousado.split("/")[4]).calculodr)})),this.datachart.datasets.push(e);var a=document.getElementById("chart");this.chart&&this.chart.destroy(),this.chart=new d["a"](a,{type:"line",data:this.datachart,options:{title:{text:"Calculo de BH",display:!0}},interaction:{mode:"index",intersect:!1}})},putBh:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=a.findbhfecha2(t),r.bh=e,"vacio",i.next=5,l.a.put("http://45.162.168.170:8081/bh/"+r.id_bh+"/",r).then((function(t){swal("Operación Exitosa"," ","success")})).catch((function(t){var e=t.response.status<500?"Los datos no son válidos":"Se ha detectado un problema ";swal("¡ERROR!",e,"error"),t.response.data}));case 5:case"end":return i.stop()}}),i)})))()},putEto:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"vacio",e.next=3,l.a.put("http://45.162.168.170:8081/eto/"+t.id_eto+"/",t).then((function(t){swal("Operación Exitosa"," ","success")})).catch((function(t){var e=t.response.status<500?"Los datos no son válidos":"Se ha detectado un problema ";swal("¡ERROR!",e,"error"),t.response.data}));case 3:case"end":return e.stop()}}),e)})))()},getLotes:function(t){var e=[];return this.listacli.forEach((function(a){parseInt(a.id_campo.split("/")[4])==t.id_campo&&e.push(a)})),e},testFetch:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:return a=e.sent,e.next=6,a.json();case 6:i=e.sent,t.datachart.datasets=[],i.results,r={label:"BH",data:[],borderColor:"rgb(43, 165, 0)",backgroundColor:"rgb(43, 165, 0)",hoverOffset:4,yAxisID:"y"},t.periodocompleto.forEach((function(e){e.tabla_eto=[];var a={valor:"Ppef"},i={valor:"Eto"},n={valor:"Riego"},s={valor:"Kc"},o={valor:"ETP"},c={valor:"BH"},l=-999;e.tabla_fechas.forEach((function(u){var h=u.split("-")[2]+"-"+u.split("-")[1]+"-"+u.split("-")[0],d=t.findetofecha(h);i[u]=d;var f=t.findriegofecha(h);n[u]=f;var p=t.findkcmes(e.mesusado);s[u]=p;var b=t.findppfecha(h),m=Math.round(b*((125-.2*b)/125)*100)/100;a[u]=m;var v=Math.round(d*p*100)/100;o[u]=v;var g=parseInt(u.split("-")[0])-1+"-"+u.split("-")[1]+"-"+u.split("-")[2],_=g.split("-")[2]+"-"+g.split("-")[1]+"-"+g.split("-")[0];l=-999==l?t.findbhfecha(_):c[g];var w=Math.round(10*(parseFloat(l)+parseFloat(m)-parseFloat(v)+parseFloat(f)))/10;if(!isNaN(w))if(null==t.findbhfecha(h)){var k={fecha:h,bh:w};t.postBh(k)}else t.putBh(h,w);c[u]=w,r.data.push(w)})),console.log(i),e.tabla_eto.push(a),e.tabla_eto.push(i),e.tabla_eto.push(n),e.tabla_eto.push(s),e.tabla_eto.push(o),e.tabla_eto.push(c)})),t.datachart.datasets.push(r),t.armarGrafico(),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},getKcs:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="kc/",e.next=4,a.getData();case 4:t.kcs=e.sent;case 5:case"end":return e.stop()}}),e)})))()},getCampo:function(t){var e=this;return this.campos==[]?getCampos().then((function(){return e.getCampo(t)})):this.campos.find((function(e){return e.id_campo==t}))},getCultivo:function(t){var e=this;return this.listacli==[]?getCultivos().then((function(){return e.getCultivo(t)})):this.listacli.find((function(e){return e.id_cultivo==t}))},getBhs:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="bh/",e.next=4,a.getData();case 4:t.bhs=e.sent;case 5:case"end":return e.stop()}}),e)})))()},findriegofecha:function(t){var e=this;console.log(this.riegos);var a=this.riegos.find((function(a){return a.fecha==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:a.riego},findbhfecha:function(t){var e=this,a=this.bhs.find((function(a){return a.fecha==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:a.bh},findbhfecha2:function(t){var e=this,a=this.bhs.find((function(a){return a.fecha==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:a},findppfecha:function(t){var e=this,a=this.pps.find((function(a){return a.fecha==t&&a.id_campo==e.campousado}));return void 0==a?null:a.pp},calcularbhviejo:function(t){},findkcmes:function(t){var e=this;console.log(t),console.log(this.cultivousado);var a=this.kcs.find((function(a){return a.mes==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:(console.log("devuelvo"),a.kc)},findkcmes2:function(t){var e=this,a=this.kcs.find((function(a){return a.mes==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:(console.log("devuelvo"),console.log(a),a)},getRiegos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="riego/",e.next=4,a.getData();case 4:t.riegos=e.sent;case 5:case"end":return e.stop()}}),e)})))()},getPps:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="pp/",e.next=4,a.getData();case 4:t.pps=e.sent;case 5:case"end":return e.stop()}}),e)})))()},getCampos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="campos/",e.next=4,a.getData();case 4:t.campos=e.sent;case 5:case"end":return e.stop()}}),e)})))()},findriegofecha2:function(t){var e=this;console.log(this.riegos);var a=this.riegos.find((function(a){return a.fecha==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:a},editarEto:function(t,e){this.editar=t},showModal:function(){this.$refs["my-modal"].show()},showModalinfo:function(t,e){this.infoEliminar.eto=t,this.showModal()},hideModal:function(){this.$refs["my-modal"].hide()},fechaperiodo:function(){this.fechas=[];var t=new Date(this.fechainiusada);t.setDate(t.getDate()+1);var e=new Date(this.fechafinusada);e.setDate(e.getDate()+1),console.log(t.getDay());while(t.getTime()<=e.getTime())this.fechas.push(("0"+t.getDate()).slice(-2)+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getFullYear()),t.setDate(t.getDate()+1);console.log(this.fechas)},getEtos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new o["a"],a.apiUrl.pathname="eto/",e.next=4,a.getData();case 4:t.etos=e.sent;case 5:case"end":return e.stop()}}),e)})))()},findetofecha:function(t){var e=this;console.log(this.etos);var a=this.etos.find((function(a){return a.fecha==t&&a.id_campo==e.campousado}));return void 0==a?null:a.eto},findetofecha2:function(t){var e=this;console.log(this.etos);var a=this.etos.find((function(a){return a.fecha==t&&a.id_cultivo==e.cultivousado}));return void 0==a?null:a},showinput:function(){this.etous=!1},periodocompletardo:function(){var t=this;this.periodocompleto=[],this.mesesperiodo(),this.fechaperiodo(),this.meses.forEach((function(e){var a={mesusado:e,tabla_fechas:[],tabla_eto:[]};t.fechas.forEach((function(t){var i,r=t.split("-")[2]+"-"+t.split("-")[1]+"-"+t.split("-")[0],n=new Date(r),s=n.getMonth()+1;switch(console.log(s),s){case 1:i="Enero";break;case 2:i="Febrero";break;case 3:i="Marzo";break;case 4:i="Abril";break;case 5:i="Mayo";break;case 6:i="Junio";break;case 7:i="Julio";break;case 8:i="Agosto";break;case 9:i="Septiembre";break;case 10:i="Octubre";break;case 11:i="Noviembre";break;case 12:i="Diciembre";break}i==e&&a.tabla_fechas.push(t)})),t.periodocompleto.push(a)})),this.testFetch()},mesesperiodo:function(){this.meses=[];var t=new Date(this.fechainiusada),e=new Date(this.fechafinusada);while(t.getTime()<=e.getTime()){var a=void 0,i=t.getMonth()+1;switch(i){case 1:a="Enero";break;case 2:a="Febrero";break;case 3:a="Marzo";break;case 4:a="Abril";break;case 5:a="Mayo";break;case 6:a="Junio";break;case 7:a="Julio";break;case 8:a="Agosto";break;case 9:a="Septiembre";break;case 10:a="Octubre";break;case 11:a="Noviembre";break;case 12:a="Diciembre";break}this.meses.includes(a)||this.meses.push(a),t.setDate(t.getDate()+1)}console.log(this.fechas)},deleteEto:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:l.a.delete("https://arandadistribucion.pythonanywhere.com/eto/"+t+"/").then((function(t){swal("Operación Exitosa"," ","success"),console.log(t),e.hideModal()})).catch((function(t){swal("¡ERROR!","Se ha detectado un problema ","error"),console.log(t),e.hideModal()})).finally((function(){return e.testFetch()}));case 1:case"end":return a.stop()}}),a)})))()},llenarfields:function(t){console.log("tabla_ventas"),console.log(t);var e=[{key:"valor",text:"Valor"}];return t.forEach((function(t){console.log("anashey");var a={};a.key=t,a.text=t,console.log(a),e.push(a)})),e},redirect:function(){this.$session.exists()||window.location.replace("/login"),"administrador"!=this.$session.get("tipocuenta")&&"reparto"!=this.$session.get("tipocuenta")||window.location.replace("/Home")},delete_all_Eto:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.selected.length,e.prev=1,i=0;case 3:if(!(i<a)){e.next=11;break}if(l.a.delete("https://arandadistribucion.pythonanywhere.com/eto/"+t.selected[i].id_eto+"/"),0!=t.selected.length){e.next=8;break}return console.log("Eliminacion Exitosa"),e.abrupt("break",11);case 8:i++,e.next=3;break;case 11:t.hideModal(),swal("Eliminacion Exitosa"," ","success"),e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),t.hideModal(),swal("¡ERROR!","Se ha detectado un problema ","error"),console.log(e.t0);case 20:return e.prev=20,t.testFetch(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,15,20,23]])})))()},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},seleccionar_una:function(t){this.selected=t,this.selected.length>0?(this.btn_del_full=!1,this.btn_limpiar=!1,this.selected.length>1&&(this.btn_mostrar=!0,this.btn_editar=!0,this.btn_eliminar=!0),this.selected.length==this.rows?this.btn_select=!0:this.btn_select=!1):(this.btn_del_full=!0,this.btn_mostrar=!1,this.btn_editar=!1,this.btn_eliminar=!1,this.btn_limpiar=!0)},fechaactual:function(){var t=new Date;t.setDate(t.getDate()+30);var e=function(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)};return console.log(e(t)),e(t)},fechaactual2:function(){var t=new Date,e=function(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)};return console.log(e(t)),e(t)},inicializar:function(){this.fechainiusada=this.fechaactual2(),this.fechafinusada=this.fechaactual(),this.periodocompletardo(),this.$session.exists()&&(this.cultivousado="http://45.162.168.170:8081/cultivos/"+String(this.$session.get("cultivused").id_cultivo)+"/",this.campousado=String(this.$session.get("cultivused").id_campo),this.lotesusados=this.getLotes(this.getCampo(this.campousado.split("/")[4])))},seleccionar_todas:function(){this.$refs.tablaregistros.selectAllRows(),this.btn_del_full=!1,this.btn_mostrar=!0,this.btn_editar=!0,this.btn_eliminar=!0,this.btn_select=!0,this.btn_limpiar=!1},limpiar_seleccion:function(){this.$refs.tablaregistros.clearSelected(),this.btn_del_full=!0,this.btn_mostrar=!1,this.btn_editar=!1,this.btn_eliminar=!1,this.btn_select=!1,this.btn_limpiar=!0}},beforeMount:function(){this.getCultivos(),this.getEtos(),this.getRiegos(),this.getPps(),this.getKcs(),this.getBhs(),this.getCampos(),this.inicializar()}},b=p,m=(a("a5cb"),a("2877")),v=Object(m["a"])(b,i,r,!1,null,"595fdecb",null);e["default"]=v.exports},"5d8b":function(t,e,a){},a5cb:function(t,e,a){"use strict";a("5d8b")}}]);
//# sourceMappingURL=chunk-d9886c72.7b20ceb4.js.map